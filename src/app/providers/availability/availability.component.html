<app-aside></app-aside>

<div class="container-fluid mt-4 " style="margin-left: 12%;margin-bottom:15%;width: 90%">

  <div class="row">
    <div class="col"><a href="/providers">Retour</a></div>
  </div>

  <div class="row mt-4">
    <div class="row title ">
      <h3>Calendrier de disponibilité</h3>
    </div>

    <!--<div  class="center-spinner">"*ngIf="!this.loadPropertyBooking " "
      <p-progressSpinner ></p-progressSpinner>
    </div>-->


    <div  class="row mt-2"> <!-- "this.reloadBookings || this.loadPropertyBooking" -->
      <form [formGroup]="availabilityForm">
        <div id="booking-tab" >
          <table class="table table-bordered">
            <tr>
              <td colspan="7" class="text-center">Semaine du  {{this.bookingService.startAndEndDateWeek.startOfWeek | date : 'dd-MM-yyyy'}} Au {{this.bookingService.startAndEndDateWeek.endOfWeek | date: 'dd-MM-yyyy'}}</td></tr>
            <tr>
              <th></th>
              <th class="fs-6  fw-normal px-5 "  *ngFor="let day of dayOfWeek;let i = index " >{{day}} {{this.bookingService.weekDates[i] | date : 'd/MM/yy' }}</th>
            </tr>
            <tr *ngFor="let mh of morningHour">
              <td class="text-center px-3">{{mh}}</td><td class="text-center" *ngFor="let d of dayOfWeek;let i = index"><input (click)="disableOtherCheckBoxes()" name="{{d}}-{{mh}}"  class="form-check-input" type="checkbox" value="{{mh}}"></td>
            </tr>
            <div class="mt-2"></div>
            <tr *ngFor="let ah of afternoonHour">
              <td class="text-center px-3">{{ah}}</td><td class="text-center" *ngFor="let d of dayOfWeek;let j = index "><input (click)="disableOtherCheckBoxes()" name="{{d}}-{{ah}}" class="form-check-input" type="checkbox" value="{{ah}}"></td>
            </tr>
          </table>
        </div>

        <div class="form-group">
          <div class="row" >

            <div class="col" *ngIf="(bookingService.today && this.bookingService.startAndEndDateWeek.startOfWeek) ">
              <div class="col" *ngIf="(this.bookingService.today) < (this.bookingService.startAndEndDateWeek.startOfWeek )">
                <button type="submit" (click)="this.bookingService.getPreviousWeekDate();this.refreshData()" class="btn btn-link mb-1 btn-sm">Précédente</button>
              </div>
            </div>

            <div class="col">
              <button type="submit" (click)="this.bookingService.getNextWeekDate();this.refreshData()" class="btn btn-link mb-1 btn-sm">Suivante</button>
            </div>
          </div>

          <div class="row">
            <div class="col-md (-3">
              <button type="submit" class="btn btn-primary mb-1 btn-sm"  >Sauvegarder</button>  <!-- (click)="onSubmitBookingDate()" [disabled]="bookingDateForm.invalid"-->
            </div>
          </div>

        </div>
      </form>
    </div>

  </div>




</div>



